<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>JP RESIDENCY</title>
  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(-45deg, #0f0c29, #302b63, 

#24243e, #4b0082);
      background-size: 400% 400%;
      animation: gradient 10s ease infinite;
      color: white;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
    }
    @keyframes gradient {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }
    .container {
      background: rgba(0, 0, 0, 0.7);
      padding: 25px;
      border-radius: 15px;
      width: 500px;
      text-align: center;
    }
    h1 {
      font-size: 22px;
      text-align: center;
      margin-bottom: 20px;
      color: #ffcc00;
    }
    label {
      display: block;
      margin-top: 10px;
      font-size: 14px;
      text-align: left;
    }
    input, select {
      width: 95%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 8px;
      border: none;
    }
    button {
      margin-top: 20px;
      padding: 10px 20px;
      border: none;
      border-radius: 10px;
      background: #ff6600;
      color: white;
      cursor: pointer;
      font-weight: bold;
    }
    button:hover { background: #ff3300; }
    table {
      width: 100%;
      border-collapse: collapse;
      margin-top: 20px;
      color: white;
    }
    table, th, td {
      border: 1px solid white;
      padding: 8px;
      text-align: center;
    }
  </style>
</head>
<body>
  <div class="container" id="main">
    <h1>WELCOME TO GAYATRI PARIVAAR</h1>
    <button onclick="showNewRegistration()">New 

Registration</button>
    <br><br>
    <button onclick="showOwnerLogin()">Already Registered 

(Only for Owner)</button>
  </div>

<script>
let regCounter = 1;
let registrations = {};
const PASSWORD = "AM8681";

function showNewRegistration(){
  document.getElementById("main").innerHTML = `
    <h1>JP RESIDENCY</h1>
    <form id="regForm">
      <label>First Name:</label><input required pattern="[A-Za-

z]+" name="fname">
      <label>Last Name:</label><input required pattern="[A-Za-

z]+" name="lname">
      <label>Purpose of Living:</label><input required 

pattern="[A-Za-z ]+" name="purpose">
      <label>Mobile Number:</label><input type="number" required 

name="mobile" maxlength="10">
      <label>Another Mobile:</label><input type="number" required 

name="mobile2" maxlength="10">
      <label>Members (1-4):</label><input type="number" min="1" 

max="4" required name="members">
      <label>Aadhaar Number (12 digits):</label><input type="text" 

pattern="\\d{12}" required name="aadhaar">
      <label>Official Address:</label><input required 

name="address">
      <label>Official Mobile:</label><input type="number" required 

name="offmobile">
      <label>Date of Living:</label><input type="date" required 

name="date">
      <label>Room Rent per Month:</label><input type="number" 

required name="rent">
      <label>Advance Rupees Paid:</label><input type="number" 

required name="advance">
      <label>Electric Meter Reading:</label><input type="number" 

step="0.1" required name="meter">
      <label>ID Proof (Aadhaar Image):</label><input type="file" 

accept="image/*" required name="idproof">
      <label>Signature Image:</label><input type="file" 

accept="image/*" required name="sign">
      <button type="submit">Register Now</button>
    </form>`;
  
  document.getElementById("regForm").onsubmit = function(e){
    e.preventDefault();
    let data = Object.fromEntries(new FormData(e.target).entries

());

    if(registrations[data.aadhaar]){
      alert("⚠️ You have already registered!");
      return;
    }

    let regNo = "AM" + String(regCounter).padStart(3,'0');
    regCounter++;
    registrations[data.aadhaar] = {regNo, ...data};

    document.getElementById("main").innerHTML = `
      <h1>JP RESIDENCY</h1>
      <p>✅ Registration Successful!</p>
      <p>Your Registration Number: <b>${regNo}</b></p>
      <button onclick="sendSMS('${regNo}')">Send Details via 

SMS</button>
      <button onclick="sendWhatsApp('${regNo}')">Send via 

WhatsApp</button>
      <button onclick="downloadPDF('${regNo}')">Download 

PDF</button>
    `;
  }
}

function showOwnerLogin(){
  document.getElementById("main").innerHTML = `
    <h1>JP RESIDENCY</h1>
    <label>Registration Number:</label><input id="ownerReg">
    <label>Password:</label><input type="password" 

id="ownerPass">
    <button onclick="ownerAccess()">Login</button>
  `;
}

function ownerAccess(){
  let reg = document.getElementById("ownerReg").value.trim();
  let pass = document.getElementById("ownerPass").value.trim();

  let user = Object.values(registrations).find(r => r.regNo === reg);
  if(user && pass === PASSWORD){
    let details = `
      <h1>JP RESIDENCY</h1>
      <p><b>Registration Number:</b> ${user.regNo}</p>
      <p><b>Name:</b> ${user.fname} ${user.lname}</p>
      <p><b>Purpose:</b> ${user.purpose}</p>
      <p><b>Mobile:</b> ${user.mobile}, ${user.mobile2}</p>
      <p><b>Members:</b> ${user.members}</p>
      <p><b>Aadhaar:</b> ${user.aadhaar}</p>
      <p><b>Address:</b> ${user.address}</p>
      <p><b>Office Mobile:</b> ${user.offmobile}</p>
      <p><b>Date of Living:</b> ${user.date}</p>
      <p><b>Rent:</b> ${user.rent}</p>
      <p><b>Advance:</b> ${user.advance}</p>
      <p><b>Meter Reading:</b> ${user.meter}</p>
      <h3>Rent Payment Table</h3>
      <table>
        <tr><th>Month-

Year</th><th>Rent</th><th>Status</th></tr>
        <tr><td>Jan 2025</td><td>${user.rent}</td><td>Paid/Not 

Paid</td></tr>
        <tr><td>Feb 2025</td><td>${user.rent}</td><td>Paid/Not 

Paid</td></tr>
      </table>
      <button onclick="downloadPDF('${user.regNo}')">Download 

PDF</button>
    `;
    document.getElementById("main").innerHTML = details;
  } else {
    alert("❌ Invalid Registration No. or Password");
  }
}

function sendSMS(regNo){
  window.location.href = `sms:9942823314?body=Registration 

Details of ${regNo}`;
}
function sendWhatsApp(regNo){
  window.open(`https://wa.me/919942823314?text=Registration 

Details of ${regNo}`,'_blank');
}
function downloadPDF(regNo){
  alert("PDF Download option works if integrated with jsPDF 

library (can be added later). For now, use browser print to save as 

PDF.");
}
</script>
</body>
</html>
